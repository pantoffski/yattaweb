webpackJsonp([1],{0:function(t,a,e){e("j1ja"),t.exports=e("bicQ")},"3wOC":function(t,a,e){"use strict";function n(t){e("qmAy")}var s=e("lgts"),r=e("yKLb"),o=e("VU/8"),c=n,i=o(s.a,r.a,!1,c,null,null);a.a=i.exports},"4vft":function(t,a,e){"use strict";var n=e("NYxO"),s=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};a.a={name:"raceViewer",data:function(){return{lastUpdate:0,isUpload:!1,sortBy:"updatedAt",di:1,columnClass:{tagId:"",chk1:"",chk2:"",chk3:"",updatedAt:"down",isDq:""}}},methods:s({getRunner:function(){var t=this;console.log("getRunner"),this.$http.post("/apinaja/runners/"+this.lastUpdate).then(function(a){console.log(a),a.data.length>0&&(t.lastUpdate=a.data[0].updatedAt)})},addTagColumn:function(){console.log("addTagColumn"),this.$http.post("/apinaja/addTagColumn").then(function(t){return console.log(t)})},resetData:function(){console.log("resetData"),this.$http.post("/apinaja/resetRace").then(function(t){return console.log(t)}),this.clearTag()},startRace:function(){console.log("startRace"),this.$http.post("/apinaja/startRace",{gunTime:(new Date).getTime()}).then(function(t){return console.log(t)})},getGunTime:function(){console.log("startRace"),this.$http.post("/apinaja/getGunTime").then(function(t){return console.log(t)})},setSortBy:function(t){for(var a in this.columnClass)this.columnClass[a]="";this.sortBy!=t?(this.sortBy=t,this.di=1):this.di=-1*this.di,this.columnClass[this.sortBy]=1==this.di?"down":"up"}},Object(n.b)(["clearTag"])),mounted:function(){},computed:s({sortedTags:function(){var t=this.sortBy,a=this.di;return this.tags.sort(function(e,n){return e[t]===n[t]?0:1*e[t]<1*n[t]?1*a:-1*a})}},Object(n.c)({isConnected:function(t){return t.isConnected},tags:function(t){return t.tags},message:function(t){return t.message}})),watch:{},components:{}}},"5yWD":function(t,a){},"9DDJ":function(t,a,e){"use strict";function n(t){if(Array.isArray(t)){for(var a=0,e=Array(t.length);a<t.length;a++)e[a]=t[a];return e}return Array.from(t)}var s=e("7+uW"),r=e("NYxO"),o=e("hMcO"),c=e.n(o),i=e("mtWM"),u=e.n(i);s.a.use(r.a);var d=new r.a.Store({state:{isConnected:!1,needInitRaceName:!1,sortBy:2,di:1,updatedAt:0,tags:[],message:[]},getters:{},mutations:{SOCKET_CONNECT:function(t,a){t.isConnected=!0},SOCKET_DISCONNECT:function(t,a){t.isConnected=!1},addMessage:function(t,a){var e=new Date;a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" - "+a;var s=[a].concat(n(t.message));s=s.splice(0,20),t.message=s},clearTag:function(t,a){t.tags=[],t.message=[]},addTags:function(t,a){t.updatedAt=a[0].updatedAt;var e=t.tags,s=[];for(var r in a){var o=a[r].tagId,c=e.findIndex(function(t){return t.tagId==o});c<0?s.push(a[r]):e[c]=a[r]}t.tags=[].concat(n(e),s)}},actions:{socket_tagStat:function(t,a){var e=t.commit,n=t.dispatch;e("addMessage",a),n("getData")},getData:function(t){var a=t.commit,e=t.state;u.a.post("/apinaja/runnersWithData/"+e.updatedAt).then(function(t){t.data.length>0&&a("addTags",t.data)})}}});s.a.use(c.a,"https://yattaweb.herokuapp.com/",d),a.a=d},BTy9:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("router-view")],1)},s=[],r={render:n,staticRenderFns:s};a.a=r},KA7w:function(t,a,e){"use strict";function n(t){e("PWV4")}var s=e("qz81"),r=e("kHDC"),o=e("VU/8"),c=n,i=o(s.a,r.a,!1,c,null,null);a.a=i.exports},OzJ6:function(t,a,e){"use strict";var n=e("7+uW"),s=e("/ocq"),r=e("ZuMv"),o=e("djIV");n.a.use(s.a),a.a=new s.a({mode:"history",base:"/",routes:[{path:"/",name:"raceViewer",component:r.a},{path:"/scoreBoard",name:"scoreBoard",component:o.a},{path:"*",redirect:"/"}]})},PWV4:function(t,a){},T87K:function(t,a){},ZuMv:function(t,a,e){"use strict";function n(t){e("5yWD")}var s=e("4vft"),r=e("aC5R"),o=e("VU/8"),c=n,i=o(s.a,r.a,!1,c,null,null);a.a=i.exports},aC5R:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"raceViewer"}},[e("h3",{class:t.isConnected?"connected":""},[t._v("cmd center")]),e("br"),t._v(" tags : "+t._s(t.sortedTags.length)+"\r\n  "),e("br"),e("br"),t._v(" "),e("div",{staticClass:"logContainer"},t._l(t.message,function(a){return e("div",[t._v(t._s(a))])})),t._v(" "),e("br"),e("br"),t._v(" "),e("button",{on:{click:t.startRace}},[t._v("startRace")]),t._v(" "),e("button",{on:{click:t.resetData}},[t._v("resetData")]),t._v(" "),e("button",{on:{click:t.addTagColumn}},[t._v("addTagColumn")]),t._v(" "),e("br"),t._v(" "),e("table",{attrs:{border:"1"}},[e("thead",[e("tr",[e("td",[e("span",{class:t.columnClass.tagId,on:{click:function(a){t.setSortBy("tagId")}}},[t._v("tagId")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.chk1,on:{click:function(a){t.setSortBy("chk1")}}},[t._v("chk1")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.chk2,on:{click:function(a){t.setSortBy("chk2")}}},[t._v("chk2")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.chk3,on:{click:function(a){t.setSortBy("chk3")}}},[t._v("chk3")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.updatedAt,on:{click:function(a){t.setSortBy("updatedAt")}}},[t._v("updatedAt")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.isDq,on:{click:function(a){t.setSortBy("isDq")}}},[t._v("isDq")])])])]),t._v(" "),e("tbody",t._l(t.sortedTags,function(a,n){return e("tr",{key:n},[e("td",[t._v(t._s(a.tagId))]),t._v(" "),e("td",[t._v(t._s(a.chk1))]),t._v(" "),e("td",[t._v(t._s(a.chk2))]),t._v(" "),e("td",[t._v(t._s(a.chk3))]),t._v(" "),e("td",[t._v(t._s(a.updatedAt))]),t._v(" "),e("td",[t._v(t._s(a.isDq))])])}))])])},s=[],r={render:n,staticRenderFns:s};a.a=r},bicQ:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("mtWM"),s=e.n(n),r=e("7+uW"),o=e("NYxO"),c=e("OzJ6"),i=e("9DDJ"),u=e("creg"),d=e("hMcO");e.n(d);r.a.use(o.a),r.a.prototype.$http=s.a,new r.a({el:"#app",store:i.a,router:c.a,template:"<App/>",sockets:{},components:{App:u.a},created:function(){console.log("app created"),this.$store.dispatch("getData")}})},creg:function(t,a,e){"use strict";var n=e("wCqm"),s=e("BTy9"),r=e("VU/8"),o=r(n.a,s.a,!1,null,null,null);a.a=o.exports},djIV:function(t,a,e){"use strict";function n(t){e("T87K")}var s=e("q9Bu"),r=e("ov6q"),o=e("VU/8"),c=n,i=o(s.a,r.a,!1,c,null,null);a.a=i.exports},kHDC:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;return(t._self._c||a)("div",{staticClass:"card",class:t.cardClass},[t._v(t._s(" "==t.char?"Â ":t.char))])},s=[],r={render:n,staticRenderFns:s};a.a=r},lgts:function(t,a,e){"use strict";var n=e("KA7w");a.a={name:"cardContainer",props:["left","top","txt","delay","startDelay","isClear"],data:function(){return{cards:[],dispIdx:-1}},watch:{txt:function(t){var a=this;this.dispIdx=-1,this.cards=this.splitString(t),setTimeout(function(t){a.aniLoop()},this.startDelay)}},methods:{aniLoop:function(){var t=this;this.dispIdx<this.cards.length&&(this.dispIdx++,setTimeout(function(a){t.aniLoop()},this.delay))},splitString:function(t){var a,e,n=[];if(!t||""==t)return n;var s=document.createElement("canvas").getContext("2d");s.font="monospace 10px;";var r=t.split("");for(a=r.splice(0,1)+"",e=s.measureText(a).width;r.length>0;){s.measureText(a+r[0]).width/e>1.2?(n.push(a),a=r.splice(0,1)+""):a+=r.splice(0,1),e=s.measureText(a).width}return n.push(a),n}},components:{card:n.a}}},ov6q:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"scoreBoard"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inp1,expression:"inp1"}],attrs:{type:"text"},domProps:{value:t.inp1},on:{input:function(a){a.target.composing||(t.inp1=a.target.value)}}}),t._v(" "),e("Br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("button",{on:{click:t.setText}},[t._v("setText")]),t._v(" "),e("button",{on:{click:t.clear}},[t._v("clear")]),t._v(" "),e("br"),t._v(" "),e("cardContainer",{attrs:{startDelay:0,top:100,txt:t.str1,delay:t.delay,isClear:t.isClear,left:100}}),t._v(" "),e("cardContainer",{attrs:{startDelay:500,top:200,txt:t.str2,delay:t.delay,isClear:t.isClear,left:100}}),t._v(" "),e("cardContainer",{attrs:{startDelay:1e3,top:300,txt:t.str1,delay:t.delay,isClear:t.isClear,left:100}}),t._v(" "),e("cardContainer",{attrs:{startDelay:1500,top:400,txt:t.str2,delay:t.delay,isClear:t.isClear,left:100}})],1)},s=[],r={render:n,staticRenderFns:s};a.a=r},q9Bu:function(t,a,e){"use strict";var n=e("3wOC");a.a={name:"scoreBoard",data:function(){return{isClear:!1,delay:150,inp1:"",str1:"",str2:""}},methods:{clear:function(){this.isClear=!0},setText:function(){this.isClear=!1,this.str1=this.inp1,this.str2=this.inp1.split("").reverse().join("")}},components:{cardContainer:n.a}}},qmAy:function(t,a){},qz81:function(t,a,e){"use strict";a.a={name:"card",props:["char","isClear"],data:function(){return{cardClass:""}},watch:{isClear:function(t){var a=this;t&&setTimeout(function(t){Math.random()>.5?a.cardClass="fadeLeft":a.cardClass="fadeRight"},1e3*Math.random())}}}},wCqm:function(t,a,e){"use strict";e("NYxO");a.a={name:"app",data:function(){return{}},methods:{},computed:{foo:function(){return"bar"}}}},yKLb:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cardContainer",style:{left:t.left+"px",top:t.top+"px"}},t._l(t.cards,function(a,n){return n<=t.dispIdx?e("card",{key:n,attrs:{char:a,isClear:t.isClear}}):t._e()}))},s=[],r={render:n,staticRenderFns:s};a.a=r}},[0]);
//# sourceMappingURL=main.js.map?d542da374ea664a8b855