webpackJsonp([1],{0:function(t,n,e){e("j1ja"),t.exports=e("bicQ")},"4vft":function(t,n,e){"use strict";var a=e("NYxO"),s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t};n.a={name:"raceViewer",data:function(){return{lastUpdate:0,isUpload:!1,sortBy:"updatedAt",di:1,columnClass:{tagId:"",chk1:"",chk2:"",chk3:"",updatedAt:"down",isDq:""}}},methods:s({getRunner:function(){var t=this;console.log("getRunner"),this.$http.post("/apinaja/runners/"+this.lastUpdate).then(function(n){console.log(n),n.data.length>0&&(t.lastUpdate=n.data[0].updatedAt)})},resetData:function(){console.log("resetData"),this.$http.post("/apinaja/resetRace").then(function(t){return console.log(t)}),this.clearTag()},startRace:function(){console.log("startRace"),this.$http.post("/apinaja/startRace",{gunTime:(new Date).getTime()}).then(function(t){return console.log(t)})},getGunTime:function(){console.log("startRace"),this.$http.post("/apinaja/getGunTime").then(function(t){return console.log(t)})},setSortBy:function(t){for(var n in this.columnClass)this.columnClass[n]="";this.sortBy!=t?(this.sortBy=t,this.di=1):this.di=-1*this.di,this.columnClass[this.sortBy]=1==this.di?"down":"up"}},Object(a.b)(["clearTag"])),mounted:function(){},computed:s({sortedTags:function(){var t=this.sortBy,n=this.di;return this.tags.sort(function(e,a){return e[t]===a[t]?0:1*e[t]<1*a[t]?1*n:-1*n})}},Object(a.c)({isConnected:function(t){return t.isConnected},tags:function(t){return t.tags},message:function(t){return t.message}})),watch:{},components:{}}},"5yWD":function(t,n){},"9DDJ":function(t,n,e){"use strict";function a(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var s=e("7+uW"),c=e("NYxO"),o=e("hMcO"),r=e.n(o),i=e("mtWM"),u=e.n(i);s.a.use(c.a);var d=new c.a.Store({state:{isConnected:!1,needInitRaceName:!1,sortBy:2,di:1,updatedAt:0,tags:[],message:[]},getters:{},mutations:{SOCKET_CONNECT:function(t,n){t.isConnected=!0},SOCKET_DISCONNECT:function(t,n){t.isConnected=!1},addMessage:function(t,n){var e=new Date;n=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" - "+n;var s=[n].concat(a(t.message));s=s.splice(0,20),t.message=s},clearTag:function(t,n){t.tags=[],t.message=[]},addTags:function(t,n){t.updatedAt=n[0].updatedAt;var e=t.tags,s=[];for(var c in n){var o=n[c].tagId,r=e.findIndex(function(t){return t.tagId==o});r<0?s.push(n[c]):e[r]=n[c]}t.tags=[].concat(a(e),s)}},actions:{socket_tagStat:function(t,n){var e=t.commit,a=t.dispatch;e("addMessage",n),a("getData")},getData:function(t){var n=t.commit,e=t.state;u.a.post("/apinaja/runnersWithData/"+e.updatedAt).then(function(t){t.data.length>0&&n("addTags",t.data)})}}});s.a.use(r.a,"https://yattaweb.herokuapp.com/",d),n.a=d},BTy9:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("router-view")],1)},s=[],c={render:a,staticRenderFns:s};n.a=c},OzJ6:function(t,n,e){"use strict";var a=e("7+uW"),s=e("/ocq"),c=e("ZuMv");a.a.use(s.a),n.a=new s.a({mode:"history",base:"/",routes:[{path:"/",name:"raceViewer",component:c.a,props:!0},{path:"*",redirect:"/"}]})},ZuMv:function(t,n,e){"use strict";function a(t){e("5yWD")}var s=e("4vft"),c=e("aC5R"),o=e("VU/8"),r=a,i=o(s.a,c.a,!1,r,null,null);n.a=i.exports},aC5R:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"raceViewer"}},[e("h3",{class:t.isConnected?"connected":""},[t._v("cmd center")]),e("br"),t._v(" tags : "+t._s(t.sortedTags.length)+"\r\n  "),e("br"),e("br"),t._v(" "),e("div",{staticClass:"logContainer"},t._l(t.message,function(n){return e("div",[t._v(t._s(n))])})),t._v(" "),e("br"),e("br"),t._v(" "),e("button",{on:{click:t.startRace}},[t._v("startRace")]),t._v(" "),e("button",{on:{click:t.resetData}},[t._v("resetData")]),t._v(" "),e("br"),t._v(" "),e("table",{attrs:{border:"1"}},[e("thead",[e("tr",[e("td",[e("span",{class:t.columnClass.tagId,on:{click:function(n){t.setSortBy("tagId")}}},[t._v("tagId")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.chk1,on:{click:function(n){t.setSortBy("chk1")}}},[t._v("chk1")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.chk2,on:{click:function(n){t.setSortBy("chk2")}}},[t._v("chk2")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.chk3,on:{click:function(n){t.setSortBy("chk3")}}},[t._v("chk3")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.updatedAt,on:{click:function(n){t.setSortBy("updatedAt")}}},[t._v("updatedAt")])]),t._v(" "),e("td",[e("span",{class:t.columnClass.isDq,on:{click:function(n){t.setSortBy("isDq")}}},[t._v("isDq")])])])]),t._v(" "),e("tbody",t._l(t.sortedTags,function(n,a){return e("tr",{key:a},[e("td",[t._v(t._s(n.tagId))]),t._v(" "),e("td",[t._v(t._s(n.chk1))]),t._v(" "),e("td",[t._v(t._s(n.chk2))]),t._v(" "),e("td",[t._v(t._s(n.chk3))]),t._v(" "),e("td",[t._v(t._s(n.updatedAt))]),t._v(" "),e("td",[t._v(t._s(n.isDq))])])}))])])},s=[],c={render:a,staticRenderFns:s};n.a=c},bicQ:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("mtWM"),s=e.n(a),c=e("7+uW"),o=e("NYxO"),r=e("OzJ6"),i=e("9DDJ"),u=e("creg"),d=e("hMcO");e.n(d);c.a.use(o.a),c.a.prototype.$http=s.a,new c.a({el:"#app",store:i.a,router:r.a,template:"<App/>",sockets:{},components:{App:u.a},created:function(){console.log("app created"),this.$store.dispatch("getData")}})},creg:function(t,n,e){"use strict";var a=e("wCqm"),s=e("BTy9"),c=e("VU/8"),o=c(a.a,s.a,!1,null,null,null);n.a=o.exports},wCqm:function(t,n,e){"use strict";e("NYxO");n.a={name:"app",data:function(){return{}},methods:{},computed:{foo:function(){return"bar"}}}}},[0]);
//# sourceMappingURL=main.js.map?b4ab69b2b0a0ef4ad380