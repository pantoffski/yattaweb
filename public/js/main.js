webpackJsonp([1],{0:function(t,a,n){n("j1ja"),t.exports=n("bicQ")},"4vft":function(t,a,n){"use strict";var s=n("NYxO"),e=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t};a.a={name:"raceViewer",data:function(){return{lastUpdate:0,isUpload:!1,sortBy:2,di:1}},methods:{getRunner:function(){var t=this;console.log("getRunner"),this.$http.post("/apinaja/runners/"+this.lastUpdate).then(function(a){console.log(a),a.data.length>0&&(t.lastUpdate=a.data[0].updatedAt)})},resetData:function(){console.log("resetData"),this.$http.post("/apinaja/resetRace").then(function(t){return console.log(t)})},startRace:function(){console.log("startRace"),this.$http.post("/apinaja/startRace",{startTime:(new Date).getTime()}).then(function(t){return console.log(t)})},getStartTime:function(){console.log("startRace"),this.$http.post("/apinaja/getStartTime").then(function(t){return console.log(t)})},addTags:function(){console.log("addTags"),this.$http.post("/apinaja/addTags",{stat:"3 tags remain",tags:[[1,1,666],[1,2,1666],[2,4,2666],[1,4,3666],[2,5,4666],[2,6,4666]],foo:"bar"}).then(function(t){var a=t.data,n=t.status;return console.log(a,n)})},sortByTagIdClass:function(){if(1==this.sortBy)return 1==this.sortDi?"up":"down"},sortByMatIdClass:function(){if(0==this.sortBy)return 1==this.sortDi?"up":"down"},sortBytStampClass:function(){if(2==this.sortBy)return 1==this.sortDi?"up":"down"},sortByMatId:function(t){0!=this.sortBy?(this.sortBy=0,this.di=1):this.di=-1*this.di},sortByTagId:function(t){1!=this.sortBy?(this.sortBy=1,this.di=1):this.di=-1*this.di},sortBytStamp:function(t){2!=this.sortBy?(this.sortBy=2,this.di=1):this.di=-1*this.di}},mounted:function(){},computed:e({sortedTags:function(){return this.tags}},Object(s.b)({isConnected:function(t){return t.isConnected},tags:function(t){return t.tags}})),watch:{},components:{}}},"5yWD":function(t,a){},"9DDJ":function(t,a,n){"use strict";function s(t){if(Array.isArray(t)){for(var a=0,n=Array(t.length);a<t.length;a++)n[a]=t[a];return n}return Array.from(t)}var e=n("7+uW"),r=n("NYxO"),o=n("hMcO"),i=n.n(o),c=n("mtWM"),u=n.n(c);e.a.use(r.a);var d=new r.a.Store({state:{isConnected:!1,needInitRaceName:!1,sortBy:2,di:1,updatedAt:0,tags:[],message:[]},getters:{sortedTags:function(t){var a=t.sortBy;return t.tags.sort(function(n,s){return n[a]===s[a]?0:n[a]<s[a]?1*t.di:-1*t.di})}},mutations:{SOCKET_CONNECT:function(t,a){t.isConnected=!0},SOCKET_DISCONNECT:function(t,a){t.isConnected=!1},addMessage:function(t,a){var n=[a].concat(s(t.message));n=n.splice(0,20),t.message=n},addTags:function(t,a){t.updatedAt=a[0].updatedAt;var n=t.tags,e=[];for(var r in a){var o=a[r].tagId,i=n.findIndex(function(t){return t.tagId==o});i<0?e.push(a[r]):n[i]=a[r]}t.tags=[].concat(s(n),e)}},actions:{socket_tagStat:function(t,a){var n=t.commit,s=t.state;n("addMessage",a),u.a.post("/apinaja/runnersWithData/"+s.updatedAt).then(function(t){t.data.length>0&&n("addTags",t.data)})}}});e.a.use(i.a,"https://yattaweb.herokuapp.com/",d),a.a=d},BTy9:function(t,a,n){"use strict";var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("router-view")],1)},e=[],r={render:s,staticRenderFns:e};a.a=r},OzJ6:function(t,a,n){"use strict";var s=n("7+uW"),e=n("/ocq"),r=n("ZuMv");s.a.use(e.a),a.a=new e.a({mode:"history",base:"/",routes:[{path:"/",name:"raceViewer",component:r.a,props:!0},{path:"*",redirect:"/"}]})},ZuMv:function(t,a,n){"use strict";function s(t){n("5yWD")}var e=n("4vft"),r=n("aC5R"),o=n("VU/8"),i=s,c=o(e.a,r.a,!1,i,null,null);a.a=c.exports},aC5R:function(t,a,n){"use strict";var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"raceViewer"}},[n("h3",{class:t.isConnected?"connected":""},[t._v("cmd center")]),n("br"),t._v(" tags : "+t._s(t.sortedTags.length)+"\r\n  "),n("br"),n("br"),t._v(" "),n("button",{on:{click:t.getRunner}},[t._v("getRunner")]),t._v(" "),n("button",{on:{click:t.getStartTime}},[t._v("getStartTime")]),t._v(" "),n("button",{on:{click:t.startRace}},[t._v("startRace")]),t._v(" "),n("button",{on:{click:t.resetData}},[t._v("resetData")]),t._v(" "),n("br"),t._v(" "),n("table",{attrs:{border:"1"}},[n("thead",[n("tr",[n("td",[n("span",{class:t.sortByTagIdClass(),on:{click:t.sortByTagId}},[t._v("tagId")])]),t._v(" "),n("td",[n("span",{class:t.sortBytStampClass(),on:{click:t.sortBytStamp}},[t._v("chk1")])]),t._v(" "),n("td",[n("span",{class:t.sortBytStampClass(),on:{click:t.sortBytStamp}},[t._v("chk2")])]),t._v(" "),n("td",[n("span",{class:t.sortBytStampClass(),on:{click:t.sortBytStamp}},[t._v("chk3")])]),t._v(" "),n("td",[n("span",{class:t.sortBytStampClass(),on:{click:t.sortBytStamp}},[t._v("tStamp")])])])]),t._v(" "),n("tbody",t._l(t.sortedTags,function(a,s){return n("tr",{key:s},[n("td",[t._v(t._s(a.tagId))]),t._v(" "),n("td",[t._v(t._s(a.chk1))]),t._v(" "),n("td",[t._v(t._s(a.chk2))]),t._v(" "),n("td",[t._v(t._s(a.chk3))]),t._v(" "),n("td",[t._v(t._s(a.updatedAt))])])}))])])},e=[],r={render:s,staticRenderFns:e};a.a=r},bicQ:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=n("mtWM"),e=n.n(s),r=n("7+uW"),o=n("NYxO"),i=n("OzJ6"),c=n("9DDJ"),u=n("creg"),d=n("hMcO");n.n(d);r.a.use(o.a),r.a.prototype.$http=e.a,new r.a({el:"#app",store:c.a,router:i.a,template:"<App/>",sockets:{},components:{App:u.a},created:function(){console.log("app created")}})},creg:function(t,a,n){"use strict";var s=n("wCqm"),e=n("BTy9"),r=n("VU/8"),o=r(s.a,e.a,!1,null,null,null);a.a=o.exports},wCqm:function(t,a,n){"use strict";n("NYxO");a.a={name:"app",data:function(){return{}},methods:{},computed:{foo:function(){return"bar"}}}}},[0]);
//# sourceMappingURL=main.js.map?721b1570305b05ae8eb3