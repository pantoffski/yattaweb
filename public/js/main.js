webpackJsonp([1],{"+32p":function(t,e,n){"use strict";e.a={name:"howTo"}},0:function(t,e,n){n("j1ja"),t.exports=n("bicQ")},"3W4f":function(t,e){},"3wOC":function(t,e,n){"use strict";function a(t){n("qmAy")}var r=n("lgts"),s=n("yKLb"),i=n("VU/8"),c=a,o=i(r.a,s.a,!1,c,null,null);e.a=o.exports},"4vft":function(t,e,n){"use strict";e.a={name:"raceViewer",data:function(){return{bib:"",min:"",sec:""}},methods:{warp:function(){confirm("แก้เวลา ?")&&this.$http.post("/warp/"+this.bib+"/"+this.min+"/"+this.sec).then(function(t){console.log(t.data)})},resetData:function(){"reset"==prompt("reset")&&(console.log("resetData"),this.$http.post("/resetRace").then(function(t){return console.log(t)}))},startRace:function(){confirm("start ?")&&(console.log("startRace"),this.$http.post("/startRace",{gunTime:(new Date).getTime()}).then(function(t){return console.log(t)}))}},mounted:function(){},computed:{},watch:{},components:{}}},"5yWD":function(t,e){},"9DDJ":function(t,e,n){"use strict";var a=n("7+uW"),r=n("NYxO"),s=n("mtWM");n.n(s);a.a.use(r.a);var i=new r.a.Store({state:{isConnected:!1,needInitRaceName:!1,sortBy:2,di:1,updatedAt:0,tags:[],message:[]},getters:{},mutations:{},actions:{}});e.a=i},BTy9:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)},r=[],s={render:a,staticRenderFns:r};e.a=s},"Eo+V":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"boardHead"},[n("div",{class:["mainCat",this.isClear?"hide":""]},[t._v(t._s(t.mainCat))]),t._v(" "),n("div",{class:["subCat",this.isClear?"hide":""]},[t._v(t._s(t.subCat))]),t._v(" "),n("div",{class:["gender",t.mainCat,this.isClear?"hide":""]})])},r=[],s={render:a,staticRenderFns:r};e.a=s},Fib4:function(t,e){},KA7w:function(t,e,n){"use strict";function a(t){n("PWV4")}var r=n("qz81"),s=n("kHDC"),i=n("VU/8"),c=a,o=i(r.a,s.a,!1,c,null,null);e.a=o.exports},NuTF:function(t,e,n){"use strict";function a(t){n("Fib4")}var r=n("+32p"),s=n("mFEb"),i=n("VU/8"),c=a,o=i(r.a,s.a,!1,c,null,null);e.a=o.exports},OzJ6:function(t,e,n){"use strict";var a=n("7+uW"),r=n("/ocq"),s=n("NuTF"),i=n("ZuMv"),c=n("djIV");a.a.use(r.a),e.a=new r.a({mode:"history",base:"/",routes:[{path:"/",name:"howTo",component:s.a},{path:"/cmdCenter",name:"raceViewer",component:i.a},{path:"/scoreBoard",name:"scoreBoard",component:c.a},{path:"*",redirect:"/"}]})},PI1J:function(t,e,n){"use strict";function a(t){n("3W4f")}var r=n("z+r0"),s=n("Eo+V"),i=n("VU/8"),c=a,o=i(r.a,s.a,!1,c,null,null);e.a=o.exports},PWV4:function(t,e){},PcIf:function(t,e,n){t.exports=n.p+"img/f.png?96d"},T87K:function(t,e){},ZuMv:function(t,e,n){"use strict";function a(t){n("5yWD")}var r=n("4vft"),s=n("aC5R"),i=n("VU/8"),c=a,o=i(r.a,s.a,!1,c,null,null);e.a=o.exports},aC5R:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"raceViewer"}},[n("br"),n("br"),t._v(" "),n("button",{on:{click:t.startRace}},[t._v("startRace")]),t._v(" "),n("br"),n("br"),t._v(" "),n("button",{on:{click:t.resetData}},[t._v("resetData")]),t._v(" "),n("br"),n("br"),t._v(" bib\r\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bib,expression:"bib"}],attrs:{type:"text"},domProps:{value:t.bib},on:{input:function(e){e.target.composing||(t.bib=e.target.value)}}}),t._v(" min\r\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.min,expression:"min"}],attrs:{type:"text"},domProps:{value:t.min},on:{input:function(e){e.target.composing||(t.min=e.target.value)}}}),t._v(" sec\r\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sec,expression:"sec"}],attrs:{type:"text"},domProps:{value:t.sec},on:{input:function(e){e.target.composing||(t.sec=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.warp}},[t._v("แก้เวลา")]),t._v(" "),n("br"),n("br"),t._v(" "),n("br")])},r=[],s={render:a,staticRenderFns:r};e.a=s},bicQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("mtWM"),r=n.n(a),s=n("7+uW"),i=n("NYxO"),c=n("OzJ6"),o=n("9DDJ"),u=n("creg");s.a.use(i.a),r.a.defaults.baseURL="/apinaja",s.a.prototype.$http=r.a,new s.a({el:"#app",store:o.a,router:c.a,template:"<App/>",sockets:{},components:{App:u.a},created:function(){console.log("app created"),this.$store.dispatch("getData")}})},creg:function(t,e,n){"use strict";var a=n("wCqm"),r=n("BTy9"),s=n("VU/8"),i=s(a.a,r.a,!1,null,null,null);e.a=i.exports},djIV:function(t,e,n){"use strict";function a(t){n("T87K")}var r=n("q9Bu"),s=n("ov6q"),i=n("VU/8"),c=a,o=i(r.a,s.a,!1,c,null,null);e.a=o.exports},kHDC:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"card",class:[t.cardClass,t.isHide]},[t._v(t._s(" "==t.ch?" ":t.ch))])},r=[],s={render:a,staticRenderFns:r};e.a=s},lgts:function(t,e,n){"use strict";var a=n("KA7w");e.a={name:"cardContainer",props:["left","top","txt","delay","startDelay","isClear"],data:function(){return{cards:[],dispIdx:-1}},watch:{txt:function(t){var e=this;this.dispIdx=-1,this.cards=this.splitString(t),""==t?this.cards=[]:setTimeout(function(){e.aniLoop()},this.startDelay)}},methods:{aniLoop:function(){var t=this;this.dispIdx<this.cards.length&&(this.dispIdx++,setTimeout(function(){t.aniLoop()},this.delay))},splitString:function(t){var e,n,a=[];if(!t||""==t)return a;var r=document.createElement("canvas").getContext("2d");r.font="monospace 10px;";var s=t.split("");for(e=s.splice(0,1)+"",n=r.measureText(e).width;s.length>0;){r.measureText(e+s[0]).width/n>1.2?(a.push(e),e=s.splice(0,1)+""):e+=s.splice(0,1),n=r.measureText(e).width}return a.push(e),a.slice(0,28)}},components:{card:a.a}}},mFEb:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"howTo"}},[t._v("\r\n  ;)\r\n")])},r=[],s={render:a,staticRenderFns:r};e.a=s},ov6q:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.boardStyle,attrs:{id:"scoreBoard"}},[n("em",{class:["rank",this.isClear||"overall"==this.raceCat?"hide":""]},[n("hr")]),t._v(" "),n("em",{class:["rank",this.isClear||"overall"==this.raceCat?"hide":""]},[n("hr")]),t._v(" "),n("em",{class:["rank",this.isClear||"overall"==this.raceCat?"hide":""]},[n("hr")]),t._v(" "),n("cardContainer",{attrs:{startDelay:0,top:192,txt:t.winners[0],delay:t.delay,isClear:t.isClear,left:145}}),t._v(" "),n("cardContainer",{attrs:{startDelay:500,top:258,txt:t.winners[1],delay:t.delay,isClear:t.isClear,left:145}}),t._v(" "),n("cardContainer",{attrs:{startDelay:1e3,top:324,txt:t.winners[2],delay:t.delay,isClear:t.isClear,left:145}}),t._v(" "),n("cardContainer",{attrs:{startDelay:1500,top:390,txt:t.winners[3],delay:t.delay,isClear:t.isClear,left:145}}),t._v(" "),n("cardContainer",{attrs:{startDelay:2e3,top:456,txt:t.winners[4],delay:t.delay,isClear:t.isClear,left:145}}),t._v(" "),t._l(t.blubs,function(t,e){return n("b",{key:"index",class:["blub",t]})}),t._v(" "),n("boardHead",{attrs:{raceCat:t.raceCat,isClear:t.isClear}}),t._v(" "),t._m(0)],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preload"},[t._v("haha\n    "),a("img",{attrs:{src:n("PcIf")}}),t._v(" "),a("img",{attrs:{src:n("pvYK")}})])}],s={render:a,staticRenderFns:r};e.a=s},pvYK:function(t,e,n){t.exports=n.p+"img/m.png?bb2"},q9Bu:function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n("PI1J"),s=n("3wOC");e.a={name:"scoreBoard",data:function(){return{dispTime:10,blubs:this.genBlubs(),blubTimer:null,isClear:!0,delay:150,raceCat:"overall",screenWidth:100,screenHeight:100,winners:["","","","",""],raw:null}},methods:{dispWinner:function(){var t=this;for(var e in this.raw){this.isClear=!1,this.raceCat=e,this.winners=["","","","",""],this.$nextTick(function(){this.winners=this.raw[e].slice(0,5),delete this.raw[e]});break}1==Object.keys(this.raw).length&&this.$http.post("/raceResult").then(function(e){t.raw=e.data}),setTimeout(function(){return t.clear()},1e3*this.dispTime)},getScreenSize:function(){this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight},genBlubs:function(){for(var t=["on","","","","","","","",""],e=[];e.length<90;)e=[].concat(a(e),t);return e},shiftBlubs:function(){var t=this.blubs,e=t.splice(-1);this.blubs=[].concat(a(e),a(t))},clear:function(){var t=this;this.isClear=!0,setTimeout(function(){return t.dispWinner()},3e3)},setText:function(){this.isClear=!1,this.t1="",this.t2="",this.str1="",this.str2="",this.$nextTick(function(){this.t1="55:59",this.t2="",this.str1=this.inp1,this.str2=this.inp1})}},computed:{boardStyle:function(){var t,e,n;return t=Math.min(this.screenWidth/1155,this.screenHeight/576),e=(this.screenWidth-1155*t)/2,n=(this.screenHeight-576*t)/2,{transform:"scale("+t+")",left:e+"px",top:n+"px"}}},created:function(){var t=this;this.blubTimer=setInterval(function(){t.shiftBlubs()},600),this.$http.post("/raceResult").then(function(e){t.raw=e.data,t.dispWinner()})},beforeDestroy:function(){clearInterval(this.blubTimer)},mounted:function(){window.addEventListener("resize",this.getScreenSize),this.$nextTick(function(){this.getScreenSize()})},components:{cardContainer:s.a,boardHead:r.a}}},qmAy:function(t,e){},qz81:function(t,e,n){"use strict";e.a={name:"card",props:["ch","isClear"],data:function(){return{cardClass:""}},computed:{isHide:function(){return" "==this.ch?"hide":"show"}},watch:{isClear:function(t){var e=this;t&&setTimeout(function(t){Math.random()>.5?e.cardClass="fadeLeft":e.cardClass="fadeRight"},1e3*Math.random())}}}},wCqm:function(t,e,n){"use strict";n("NYxO");e.a={name:"app",data:function(){return{}},methods:{},computed:{foo:function(){return"bar"}}}},yKLb:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cardContainer",style:{left:t.left+"px",top:t.top+"px"}},t._l(t.cards,function(e,a){return a<=t.dispIdx?n("card",{key:a,attrs:{ch:e,isClear:t.isClear}}):t._e()}))},r=[],s={render:a,staticRenderFns:r};e.a=s},"z+r0":function(t,e,n){"use strict";e.a={name:"boardHead",props:["raceCat","isClear"],data:function(){return{}},computed:{mainCat:function(){return"overall"==this.raceCat?"over":"m"==this.raceCat.slice(-1)?"male":"female"},subCat:function(){if("overall"==this.raceCat)return"all";var t=this.raceCat.slice(0,2),e=this.raceCat.slice(-1);return isNaN(1*t)?t:(t*=1,0==t?"< 25":60==t&&"m"==e?"> 60":50==t&&"f"==e?"> 50":t+" - "+(t+4))}}}}},[0]);
//# sourceMappingURL=main.js.map?717b7ad9244d3a8d3c3d