webpackJsonp([1],{0:function(t,a,n){n("j1ja"),t.exports=n("bicQ")},"4vft":function(t,a,n){"use strict";var e=n("NYxO"),s=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t};a.a={name:"raceViewer",data:function(){return{lastUpdate:0,isUpload:!1,sortBy:"updatedAt",di:1,columnClass:{tagId:"",chk1:"",chk2:"",chk3:"",updatedAt:"down"}}},methods:s({getRunner:function(){var t=this;console.log("getRunner"),this.$http.post("/apinaja/runners/"+this.lastUpdate).then(function(a){console.log(a),a.data.length>0&&(t.lastUpdate=a.data[0].updatedAt)})},resetData:function(){console.log("resetData"),this.$http.post("/apinaja/resetRace").then(function(t){return console.log(t)}),this.clearTag()},startRace:function(){console.log("startRace"),this.$http.post("/apinaja/startRace",{startTime:(new Date).getTime()}).then(function(t){return console.log(t)})},getStartTime:function(){console.log("startRace"),this.$http.post("/apinaja/getStartTime").then(function(t){return console.log(t)})},addTags:function(){console.log("addTags"),this.$http.post("/apinaja/addTags",{stat:"3 tags remain",tags:[[1,1,666],[1,2,1666],[2,4,2666],[1,4,3666],[2,5,4666],[2,6,4666]],foo:"bar"}).then(function(t){var a=t.data,n=t.status;return console.log(a,n)})},setSortBy:function(t){for(var a in this.columnClass)this.columnClass[a]="";this.sortBy!=t?(this.sortBy=t,this.di=1):this.di=-1*this.di,this.columnClass[this.sortBy]=1==this.di?"down":"up"}},Object(e.b)(["clearTag"])),mounted:function(){},computed:s({sortedTags:function(){var t=this.sortBy,a=this.di;return this.tags.sort(function(n,e){return n[t]===e[t]?0:1*n[t]<1*e[t]?1*a:-1*a})}},Object(e.c)({isConnected:function(t){return t.isConnected},tags:function(t){return t.tags}})),watch:{},components:{}}},"5yWD":function(t,a){},"9DDJ":function(t,a,n){"use strict";function e(t){if(Array.isArray(t)){for(var a=0,n=Array(t.length);a<t.length;a++)n[a]=t[a];return n}return Array.from(t)}var s=n("7+uW"),o=n("NYxO"),c=n("hMcO"),r=n.n(c),i=n("mtWM"),u=n.n(i);s.a.use(o.a);var d=new o.a.Store({state:{isConnected:!1,needInitRaceName:!1,sortBy:2,di:1,updatedAt:0,tags:[],message:[]},getters:{},mutations:{SOCKET_CONNECT:function(t,a){t.isConnected=!0},SOCKET_DISCONNECT:function(t,a){t.isConnected=!1},addMessage:function(t,a){var n=[a].concat(e(t.message));n=n.splice(0,20),t.message=n},clearTag:function(t,a){t.tags=[]},addTags:function(t,a){t.updatedAt=a[0].updatedAt;var n=t.tags,s=[];for(var o in a){var c=a[o].tagId,r=n.findIndex(function(t){return t.tagId==c});r<0?s.push(a[o]):n[r]=a[o]}t.tags=[].concat(e(n),s)}},actions:{socket_tagStat:function(t,a){var n=t.commit,e=t.dispatch;n("addMessage",a),e("getData")},getData:function(t){var a=t.commit,n=t.state;u.a.post("/apinaja/runnersWithData/"+n.updatedAt).then(function(t){t.data.length>0&&a("addTags",t.data)})}}});s.a.use(r.a,"https://yattaweb.herokuapp.com/",d),a.a=d},BTy9:function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("router-view")],1)},s=[],o={render:e,staticRenderFns:s};a.a=o},OzJ6:function(t,a,n){"use strict";var e=n("7+uW"),s=n("/ocq"),o=n("ZuMv");e.a.use(s.a),a.a=new s.a({mode:"history",base:"/",routes:[{path:"/",name:"raceViewer",component:o.a,props:!0},{path:"*",redirect:"/"}]})},ZuMv:function(t,a,n){"use strict";function e(t){n("5yWD")}var s=n("4vft"),o=n("aC5R"),c=n("VU/8"),r=e,i=c(s.a,o.a,!1,r,null,null);a.a=i.exports},aC5R:function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"raceViewer"}},[n("h3",{class:t.isConnected?"connected":""},[t._v("cmd center")]),n("br"),t._v(" tags : "+t._s(t.sortedTags.length)+"\r\n  "),n("br"),n("br"),t._v(" "),n("button",{on:{click:t.getRunner}},[t._v("getRunner")]),t._v(" "),n("button",{on:{click:t.getStartTime}},[t._v("getStartTime")]),t._v(" "),n("button",{on:{click:t.startRace}},[t._v("startRace")]),t._v(" "),n("button",{on:{click:t.resetData}},[t._v("resetData")]),t._v(" "),n("br"),t._v(" "),n("table",{attrs:{border:"1"}},[n("thead",[n("tr",[n("td",[n("span",{class:t.columnClass.tagId,on:{click:function(a){t.setSortBy("tagId")}}},[t._v("tagId")])]),t._v(" "),n("td",[n("span",{class:t.columnClass.chk1,on:{click:function(a){t.setSortBy("chk1")}}},[t._v("chk1")])]),t._v(" "),n("td",[n("span",{class:t.columnClass.chk2,on:{click:function(a){t.setSortBy("chk2")}}},[t._v("chk2")])]),t._v(" "),n("td",[n("span",{class:t.columnClass.chk3,on:{click:function(a){t.setSortBy("chk3")}}},[t._v("chk3")])]),t._v(" "),n("td",[n("span",{class:t.columnClass.updatedAt,on:{click:function(a){t.setSortBy("updatedAt")}}},[t._v("updatedAt")])])])]),t._v(" "),n("tbody",t._l(t.sortedTags,function(a,e){return n("tr",{key:e},[n("td",[t._v(t._s(a.tagId))]),t._v(" "),n("td",[t._v(t._s(a.chk1))]),t._v(" "),n("td",[t._v(t._s(a.chk2))]),t._v(" "),n("td",[t._v(t._s(a.chk3))]),t._v(" "),n("td",[t._v(t._s(a.updatedAt))])])}))])])},s=[],o={render:e,staticRenderFns:s};a.a=o},bicQ:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=n("mtWM"),s=n.n(e),o=n("7+uW"),c=n("NYxO"),r=n("OzJ6"),i=n("9DDJ"),u=n("creg"),d=n("hMcO");n.n(d);o.a.use(c.a),o.a.prototype.$http=s.a,new o.a({el:"#app",store:i.a,router:r.a,template:"<App/>",sockets:{},components:{App:u.a},created:function(){console.log("app created"),this.$store.dispatch("getData")}})},creg:function(t,a,n){"use strict";var e=n("wCqm"),s=n("BTy9"),o=n("VU/8"),c=o(e.a,s.a,!1,null,null,null);a.a=c.exports},wCqm:function(t,a,n){"use strict";n("NYxO");a.a={name:"app",data:function(){return{}},methods:{},computed:{foo:function(){return"bar"}}}}},[0]);
//# sourceMappingURL=main.js.map?3ac8eb12670017ec1b97