webpackJsonp([1],{0:function(t,n,a){a("j1ja"),t.exports=a("bicQ")},"4vft":function(t,n,a){"use strict";var e=a("NYxO"),s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t};n.a={name:"raceViewer",data:function(){return{lastUpdate:0,isUpload:!1,sortBy:"updatedAt",di:1,columnClass:{tagId:"",chk1:"",chk2:"",chk3:"",updatedAt:"down"}}},methods:s({getRunner:function(){var t=this;console.log("getRunner"),this.$http.post("/apinaja/runners/"+this.lastUpdate).then(function(n){console.log(n),n.data.length>0&&(t.lastUpdate=n.data[0].updatedAt)})},resetData:function(){console.log("resetData"),this.$http.post("/apinaja/resetRace").then(function(t){return console.log(t)}),this.clearTag()},startRace:function(){console.log("startRace"),this.$http.post("/apinaja/startRace",{startTime:(new Date).getTime()}).then(function(t){return console.log(t)})},getStartTime:function(){console.log("startRace"),this.$http.post("/apinaja/getStartTime").then(function(t){return console.log(t)})},addTags:function(){console.log("addTags"),this.$http.post("/apinaja/addTags",{stat:"3 tags remain",tags:[[1,1,666],[1,2,1666],[2,4,2666],[1,4,3666],[2,5,4666],[2,6,4666]],foo:"bar"}).then(function(t){var n=t.data,a=t.status;return console.log(n,a)})},setSortBy:function(t){for(var n in this.columnClass)this.columnClass[n]="";this.sortBy!=t?(this.sortBy=t,this.di=1):this.di=-1*this.di,this.columnClass[this.sortBy]=1==this.di?"down":"up"}},Object(e.b)(["clearTag"])),mounted:function(){},computed:s({sortedTags:function(){var t=this.sortBy,n=this.di;return this.tags.sort(function(a,e){return a[t]===e[t]?0:1*a[t]<1*e[t]?1*n:-1*n})}},Object(e.c)({isConnected:function(t){return t.isConnected},tags:function(t){return t.tags}})),watch:{},components:{}}},"5yWD":function(t,n){},"9DDJ":function(t,n,a){"use strict";function e(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}var s=a("7+uW"),o=a("NYxO"),c=a("hMcO"),r=a.n(c),i=a("mtWM"),u=a.n(i);s.a.use(o.a);var d=new o.a.Store({state:{isConnected:!1,needInitRaceName:!1,sortBy:2,di:1,updatedAt:0,tags:[],message:[]},getters:{},mutations:{SOCKET_CONNECT:function(t,n){t.isConnected=!0},SOCKET_DISCONNECT:function(t,n){t.isConnected=!1},addMessage:function(t,n){var a=[n].concat(e(t.message));a=a.splice(0,20),t.message=a},clearTag:function(t,n){t.tags=[]},addTags:function(t,n){t.updatedAt=n[0].updatedAt;var a=t.tags,s=[];for(var o in n){var c=n[o].tagId,r=a.findIndex(function(t){return t.tagId==c});r<0?s.push(n[o]):a[r]=n[o]}t.tags=[].concat(e(a),s)}},actions:{socket_tagStat:function(t,n){var a=t.commit,e=t.state;a("addMessage",n),u.a.post("/apinaja/runnersWithData/"+e.updatedAt).then(function(t){t.data.length>0&&a("addTags",t.data)})}}});s.a.use(r.a,"https://yattaweb.herokuapp.com/",d),n.a=d},BTy9:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("router-view")],1)},s=[],o={render:e,staticRenderFns:s};n.a=o},OzJ6:function(t,n,a){"use strict";var e=a("7+uW"),s=a("/ocq"),o=a("ZuMv");e.a.use(s.a),n.a=new s.a({mode:"history",base:"/",routes:[{path:"/",name:"raceViewer",component:o.a,props:!0},{path:"*",redirect:"/"}]})},ZuMv:function(t,n,a){"use strict";function e(t){a("5yWD")}var s=a("4vft"),o=a("aC5R"),c=a("VU/8"),r=e,i=c(s.a,o.a,!1,r,null,null);n.a=i.exports},aC5R:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"raceViewer"}},[a("h3",{class:t.isConnected?"connected":""},[t._v("cmd center")]),a("br"),t._v(" tags : "+t._s(t.sortedTags.length)+"\r\n  "),a("br"),a("br"),t._v(" "),a("button",{on:{click:t.getRunner}},[t._v("getRunner")]),t._v(" "),a("button",{on:{click:t.getStartTime}},[t._v("getStartTime")]),t._v(" "),a("button",{on:{click:t.startRace}},[t._v("startRace")]),t._v(" "),a("button",{on:{click:t.resetData}},[t._v("resetData")]),t._v(" "),a("br"),t._v(" "),a("table",{attrs:{border:"1"}},[a("thead",[a("tr",[a("td",[a("span",{class:t.columnClass.tagId,on:{click:function(n){t.setSortBy("tagId")}}},[t._v("tagId")])]),t._v(" "),a("td",[a("span",{class:t.columnClass.chk1,on:{click:function(n){t.setSortBy("chk1")}}},[t._v("chk1")])]),t._v(" "),a("td",[a("span",{class:t.columnClass.chk2,on:{click:function(n){t.setSortBy("chk2")}}},[t._v("chk2")])]),t._v(" "),a("td",[a("span",{class:t.columnClass.chk3,on:{click:function(n){t.setSortBy("chk3")}}},[t._v("chk3")])]),t._v(" "),a("td",[a("span",{class:t.columnClass.updatedAt,on:{click:function(n){t.setSortBy("updatedAt")}}},[t._v("updatedAt")])])])]),t._v(" "),a("tbody",t._l(t.sortedTags,function(n,e){return a("tr",{key:e},[a("td",[t._v(t._s(n.tagId))]),t._v(" "),a("td",[t._v(t._s(n.chk1))]),t._v(" "),a("td",[t._v(t._s(n.chk2))]),t._v(" "),a("td",[t._v(t._s(n.chk3))]),t._v(" "),a("td",[t._v(t._s(n.updatedAt))])])}))])])},s=[],o={render:e,staticRenderFns:s};n.a=o},bicQ:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("mtWM"),s=a.n(e),o=a("7+uW"),c=a("NYxO"),r=a("OzJ6"),i=a("9DDJ"),u=a("creg"),d=a("hMcO");a.n(d);o.a.use(c.a),o.a.prototype.$http=s.a,new o.a({el:"#app",store:i.a,router:r.a,template:"<App/>",sockets:{},components:{App:u.a},created:function(){console.log("app created")}})},creg:function(t,n,a){"use strict";var e=a("wCqm"),s=a("BTy9"),o=a("VU/8"),c=o(e.a,s.a,!1,null,null,null);n.a=c.exports},wCqm:function(t,n,a){"use strict";a("NYxO");n.a={name:"app",data:function(){return{}},methods:{},computed:{foo:function(){return"bar"}}}}},[0]);
//# sourceMappingURL=main.js.map?c26085d715348fc78cca